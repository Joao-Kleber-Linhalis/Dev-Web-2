<div class="container mat-elevation-z8">
    <form class="form">

        <h1 class="fullWidth">Atualizar Item</h1>

        <div class="categoria">
            <mat-form-field class="fullWidth" appearance="outline">
                <mat-label>Selecione Tipo</mat-label>
                <mat-select [(ngModel)]="item.tipoItem" name="tipoItem" [formControl]="tipoItem">
                    <mat-option *ngFor="let tipoItem of tipoEnum" [value]="tipoItem">{{ tipoItem
                        }}</mat-option>
                </mat-select>
                <mat-icon matSuffix>info</mat-icon>
            </mat-form-field>
        </div>
        <mat-form-field class="fullWidth" appearance="outline">
            <mat-label>Número de Série</mat-label>
            <input type="number" [(ngModel)]="item.numSerie" name="numSerie" [formControl]="numSerie" required matInput
                placeholder="Ex... 2023001" maxlength="50">
            <mat-icon matSuffix>pin</mat-icon>
        </mat-form-field>
        <mat-form-field class="fullWidth" appearance="outline">
            <mat-label>Titulo</mat-label>
            <mat-select [(ngModel)]="item.titulo" name="titulo" [formControl]="titulo" required [compareWith]="compareWith">
                <mat-option *ngFor="let titulo of tituloList" [value]="titulo">{{titulo.nome}}</mat-option>
            </mat-select>
            <mat-icon matSuffix>theaters</mat-icon>
        </mat-form-field>
        <div class="info-fields-container fullWidth">
            <!-- Campo de entrada desabilitado para mostrar o nome do diretor -->
            <mat-form-field class="info-field fullWidth" appearance="outline">
                <mat-label>Nome do Diretor</mat-label>
                <input matInput [disabled]="true" [value]="item.titulo ? item.titulo.diretor.nome : ''">
                <mat-icon matSuffix>movie_edit</mat-icon>
            </mat-form-field>
            <!-- Campo de entrada desabilitado para mostrar o ano do título -->
            <mat-form-field class="info-field fullWidth" appearance="outline">
                <mat-label>Ano do Título</mat-label>
                <input matInput [disabled]="true" [value]="item.titulo ? item.titulo.ano : ''">
                <mat-icon matSuffix>calendar_month</mat-icon>
            </mat-form-field>
        </div>

        <mat-form-field class="fullWidth" appearance="outline">
            <mat-label>Data de Aquisição</mat-label>
            <input matInput [matDatepicker]="picker" (dateInput)="onDateSelected($event)" [formControl]="dtAquisicao">
            <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <button (click)="update()" [disabled]="!validarCampos()" class="fullWidth mat-elevation-z4" mat-flat-button
            color="primary">Atualizar</button>
        <button routerLink="../../" class="fullWidth mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>
    </form>
</div>